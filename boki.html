<!DOCTYPE html>
<html lang="en">
    <head id="zeta">
        <title>okaq</title>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta name="viewport" content="width=1920,height=1080,initial-scale=1" />
        <meta name="source" content="https://github.com/okaq/okaq.joruri" />
        <meta name="creator" content="AQ <aq@okaq.com>" />
        <meta name="date" content="2015-07-14" />
        <link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAMklEQVR4nGL5L5LHQEvARFPTRy0YtWDUglELRi0YtWDUglELRi0YtWDUAioCQAAAAP//70wBxDJcNi8AAAAASUVORK5CYII=" />
         <style type="text/css">
            html,body{width:1920px;height:1080px;margin:0px;border:0px;padding:0px;background-color:rgba(255,255,255,1.0);}
        </style>
         <script type="text/javascript">
            // ok
        console.log("okaq mochi boki ideas view!");
        // async load
        (function(){window.addEventListener("load",function(e){m.init(e);},false);})();
        // mochi
        var m = {
            "init": function(e) {
                console.log(e);
                var t0 = window.performance.now();

                // subsystems, favico
                m.subs = [xhr];
                m.subs.forEach(function(el){el.init();});

                window.addEventListener("click", xhr.open, false);

                var t1 = window.performance.now() - t0;
                console.log("total running time: " + t1 + " ms");
            }
        }
// layout
var lay = {
    "pop": function() {
        lay.w = 1920;
        lay.h = 1080;
        // navi pane
        lay.n = [];
        var i0 = 0;
        for (var k0 in xhr.d) {
            var y0 = (i0 * 16) >>> 0;
            lay.n[i0] = [128,16,0,y0];
            i0 = i0 + 1;
        }
        // idea pane
        lay.s = [];
        sce.pop();
    }
}
// scene
var sce = {
    "pop": function() {
        sce.n = [];
        for (var i = 0; i < sce.n.length; i++) {
            sce.n[i] = dom.canvas(lay.n[i]);
            dom.add(sce.n[i]);
        }
    }
}
// xhr
var xhr = {
    "init": function() {
        xhr.s = new XMLHttpRequest();
        xhr.s.onload = xhr.load;
        // get list of navi titles
        // retrieve txt on click
        // display result
    },
    "load": function(e) {
        console.log("xhr req loaded...");
        console.log(e);
        console.log(xhr.s.response);
        xhr.d = JSON.parse(xhr.s.response);
        var c0 = 0;
        for (k0 in xhr.d) {
            console.log(k0);
            console.log(xhr.d[k0].Txt);
            console.log(window.atob(xhr.d[k0].Txt));
            c0 = c0 + 1;
        }
        console.log("Total ideas: " + c0);
        // 65 total, 1080 / 65 = 16.6
        // populate canvas layout with data
        // add click event listeners
    },
    "open": function() {
        // xhr.s.open("GET", "http://localhost:8008/s", true);
        xhr.s.open("GET", "http://localhost:8008/i", true)
        xhr.s.send();
    }
}
    </script>
</head>
<body id="alpha">
</body>
</html>
 

